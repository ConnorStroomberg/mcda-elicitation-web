<h4>Preferences - <span>{{problem.title}}</span></h4>

<div id="progress-bar-block" class="prefs-block">
  <p>Follow the four steps below to set your parameters for this scenario. Completing all steps is not required.</p>
  <div class="inline">Your progress:</div> 
  <div class="inline">
    <progressbar max="200" value="166" type="success"></progressbar></div>
  <!--  see http://madmimi.github.io/angular-foundation/#/getting_started for dynamic examples -->
  <div id="results-avail"></div>
</div>

<div id="effectstable-div" style="margin-bottom: 0rem;">  
  <h2>1 Scale Ranges</h2>
  <button class="button closebutt ng-pristine ng-valid">Define Scale Ranges</button>
  <p>&nbsp;</p>
  <table id="effectstable" class="effectstable" summary="table summary" data-role="table" data-mode="columntoggle" >
    <thead>
      <tr>
        <th>Criterion</th>
        <th>Theoretical Range</th>
        <th>Observed Range</th>
        <th>Configured Range</th>
        <th>Units</th>
      </tr>
    </thead>
    <tbody>   
    <tr ng-repeat="(key, criterion) in criteria">
      <td>{{criterion.title}}</td>
      <td>{{criterion.scale[0] | number:3}}, {{criterion.scale[1] | number:3}}</td>
      <td>{{intervalHull(scales[criterion.id])[0] | number:3}}, {{intervalHull(scales[criterion.id])[1] | number:3}}</td>
      <td>{{criterion.pvf.range[0] | number:3}}, {{criterion.pvf.range[1] | number:3}}</td>
      <td>{{criterion.unitOfMeasurement}}</td>
    </tr>
    </tbody>
  </table> 
</div>

<div id="partial-value-functions-block" class="prefs-block">
    <h3>Partial Value Functions</h3>

    <div ng-repeat="criterion in problem.criteria" class="row">
      <div class="columns large-6">
        <h5>{{criterion.title}}</h5>
        <ul>
          <li>Natural scale bounds:
            [<span ng-repeat="r in criterion.scale track by $index"><span ng-if="r != null">{{r | precision: 3}}</span><span ng-show="!$last">, </span></span>]</li>
          <li>Configured scale range:
            [<span ng-repeat="r in criterion.pvf.range">{{r | precision: 3}}<span ng-show="!$last">, </span></span>]</li>
          <li>Partial value function:
            <span ng-show="criterion.pvf.type">
              {{criterion.pvf.type}}; 
              {{criterion.pvf.direction}}
            </span>
            <span ng-show="!criterion.pvf.type">undefined</span>
          </li>
        </ul>
      </div>
      <div class="columns large-6">
        <div style="width: 250px; height: 180px">
          <line-chart ng-if="criterion.pvf.type" value="getXY(criterion)" show-legend="false"></line-chart>
        </div>
      </div>
    </div>
</div>

<div id="trade-off-block" class="prefs-block">
    <h3>Trade-offs</h3>
    <ul class="no-bullet">
      <li ng-repeat="criterion in criteria">
        <span mathjax-bind="criterion.w"></span>: {{criterion.title}}
        ({{criterion.worst() | precision: 3}} &rarr; {{criterion.best() | precision: 3}})
      </li>
    </ul>
    <div mathjax-bind="preferences"></div>
</div>
    

